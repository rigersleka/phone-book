<form
  class="contact-detail-form"
  (ngSubmit)="savePhoneBook()"
  [formGroup]="contactDetailForm"
  #form="ngForm"
>
  <!-- First Name -->
  <mat-form-field>
    <mat-label> First Name </mat-label>
    <input
      id="firstName"
      name="firstName"
      data-cy="firstName"
      formControlName="firstName"
      placeholder="First Name"
      required
      matInput
    />
    <mat-error
      data-cy="valid-firstName"
      *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)"
    >
      <mat-error *ngIf="firstName.errors?.['minlength']">
        First Name must be at least 2 characters
      </mat-error>
    </mat-error>
  </mat-form-field>
  <!-- Phone Number -->
  <mat-form-field class="form-element" appearance="fill">
    <mat-label> Phone Number </mat-label>
    <input
      type="text"
      id="phoneNumber"
      name="phoneNumber"
      data-cy="phoneNumber"
      formControlName="phoneNumber"
      placeholder="Phone"
      required
      matInput
    />
  </mat-form-field>
  <mat-error
    data-cy="valid-firstName"
    *ngIf="phoneNumber.invalid && (phoneNumber.dirty || phoneNumber.touched)">
    <mat-error *ngIf="phoneNumber.errors?.['pattern']">
      Please, Enter 10 digit Mobile Number
    </mat-error>
  </mat-error>
  <!-- Select Gender -->
  <mat-form-field class="form-element" appearance="fill">
    <mat-label>Select gender</mat-label>
    <mat-select
      #mySelect
      required
      formControlName="gender"
      (change)="onGenderSelected(mySelect.value)"
    >
      <mat-option
        *ngFor="let genderItem of genderItems$ | async"
        [value]="genderItem"
      >
        {{ genderItem }}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <!-- Button Save -->
  <button
    mat-raised-button
    type="submit"
    id="saveContactDetail"
    data-cy="save-button"
    (click)="savePhoneBook()"
    [disabled]="!contactDetailForm.valid"
  >
    Save
  </button>
</form>
